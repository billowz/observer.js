{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 066db31386738ed602cc","webpack:///C:/Users/cmp/git/observer.js/src/watcher.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}","webpack:///C:/Users/cmp/git/observer.js/src/observer.js"],"names":[],"mappings":"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","file":"watcher.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"watcher\"] = factory(require(\"_\"));\n\telse\n\t\troot[\"watcher\"] = factory(root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 066db31386738ed602cc\n **/","const _ = require('lodash'),\n  observer = require('./observer'),\n  expressionVars = /[^\\[\\]\\.]+/g;\n\nclass Watcher {\n  constructor(target, expression, handler) {\n    this.target = target;\n    this.expression = expression;\n    this.handler = handler;\n    this.path = this.parsePath(expression);\n    this.observers = [];\n    this._watchItem(this.target, 0);\n  }\n  _watchItem(obj, idx) {\n    if (idx >= this.path.length) {\n      return;\n    }\n    let attr = this.path[idx];\n    if (_.isPlainObject(obj) || _.isArray(obj)) {\n      this._observe(obj, idx);\n      this._watchItem(obj[attr], idx + 1);\n    }\n  }\n  _observe(obj, idx) {\n    let handler = (attr, val, oldVal) => {\n      if (_.isPlainObject(oldVal) || _.isArray(oldVal)) {\n        this._unobserve(oldVal, idx++);\n      }\n    }\n    observer.observe(obj, attr, handler);\n  }\n  _unobserve(obj, idx) {}\n  parsePath(expression) {\n    let path = [], item;\n    while ((item = expressionVars.exec(expression))) {\n      path.push(item);\n    }\n    return path;\n  }\n}\nWatcher.observer = observer;\nmodule.exports = Watcher;\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/watcher.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}\n ** module id = 1\n ** module chunks = 0\n **/","/**\n * 监控对象属性变化\n * 高版本浏览器(Chrome 36+, Opera 23+)基于 Object.observe(ES7)实现\n * 基于浏览器使用 Object.defineProperty实现\n * IE 6,7,8使用VBScript实现Object.defineProperty\n */\nconst _ = require('lodash'),\n  ARRAY_METHODS = ['push', 'pop', 'shift', 'unshift', 'sort', 'reverse', 'splice'],\n  requestTimeoutFrame = function requestTimeoutFrame(callback) {\n    let currTime = new Date().getTime(),\n      timeToCall = Math.max(0, cfg.timeoutFrameInterval - (currTime - lastTime)),\n      reqId = setTimeout(function() {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return reqId;\n  },\n  requestAnimationFrame = window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame,\n  requestFrame = function requestFrame(callback) {\n    if (requestAnimationFrame && cfg.useAnimationFrame) {\n      return requestAnimationFrame(callback);\n    } else {\n      return requestTimeoutFrame(callback);\n    }\n  };\n\nlet _observers = new Map(),\n  lastTime = 0,\n  cfg = {\n    useES7Observe: true,\n    useAnimationFrame: false,\n    timeoutFrameInterval: 16\n  };\n\nfunction bindObserver(observer) {\n  if (observer._binded !== true) {\n    _observers.set(observer.target, observer);\n    observer._binded = true;\n  }\n}\n\nfunction unbindObserver(observer) {\n  if (observer._binded === true) {\n    if (_observers.get(observer.target) === observer) {\n      _observers.delete(observer.target);\n    }\n    observer._binded = false;\n  }\n}\n\nfunction getBindObserver(target) {\n  return _observers.get(target);\n}\n\nclass Observer {\n  constructor(target) {\n    if (!_.isArray(target) && !_.isObject(target)) {\n      throw TypeError('can not observe object[' + (typeof target) + ']');\n    }\n    this.target = target;\n    this.watchers = {};\n    this.listens = {};\n    this._onObserveChanged = this._onObserveChanged.bind(this);\n    this._notify = this._notify.bind(this);\n    this.changeRecords = {};\n    bindObserver(this);\n  }\n\n  _notify() {\n    _.map(this.changeRecords, (oldVal, attr) => {\n      let handlers = this.listens[attr];\n      _.each(handlers, h => {\n        h(attr, this.target[attr], oldVal, this.target);\n      })\n    });\n    this.__request_frame = null;\n    this.changeRecords = {};\n  }\n\n  _addChangeRecord(attr, oldVal) {\n    if (!(attr in this.changeRecords)) {\n      this.changeRecords[attr] = oldVal;\n      if (!this.__request_frame) {\n        this.__request_frame = requestFrame(this._notify);\n      }\n    }\n  }\n\n  _addListen(attr, handlers) {\n    let attrHandlers = this.listens[attr];\n    if (!attrHandlers) {\n      attrHandlers = this.listens[attr] = [];\n    }\n    _.each(handlers, (h) => {\n      if (!_.include(attrHandlers, h)) {\n        attrHandlers.push(h);\n      }\n    });\n    if (attrHandlers.length) {\n      this._watch(attr);\n    }\n  }\n\n  _removeListen(attr, handlers) {\n    let attrHandlers = this.listens[attr];\n    if (attrHandlers) {\n      if (handlers.length) {\n        _.remove(attrHandlers, (h) => {\n          return _.include(handlers, h);\n        });\n      }\n      if (!handlers.length || !attrHandlers.length) {\n        delete this.listens[attr];\n        this._unwatch(attr);\n      }\n    }\n  }\n\n  _onStateChanged(attr, oldVal) {\n    if (attr in this.listens) {\n      this._addChangeRecord(attr, oldVal);\n    }\n  }\n\n  _onObserveChanged(changes) {\n    _.each(changes, change => {\n      this._onStateChanged(change.name, change.oldValue);\n    });\n  }\n  _defineProperty(attr, value) {\n    this.target = Object.defineProperty(this.target, this.attr, {\n      enumerable: true,\n      configurable: true,\n      get: function() {\n        return value;\n      },\n      set: function(val) {\n        if (value !== val) {\n          let oldVal = value;\n          value = val;\n          this._onStateChanged(attr, oldVal);\n        }\n      }\n    });\n  }\n  _undefineProperty(attr, value) {\n    this.target = Object.defineProperty(this.target, this.attr, {\n      enumerable: true,\n      configurable: true,\n      value: value\n    });\n  }\n  _watch(attr) {\n    if (Object.observe && cfg.useES7Observe) {\n      if (!this._es7observe) {\n        Object.observe(this.target, this._onObserveChanged);\n        this._es7observe = true;\n      }\n    } else if (!this.watchers[attr]) {\n      this._defineProperty(attr, this.target[attr]);\n      this.watchers[attr] = true;\n    }\n  }\n\n  _unwatch(attr) {\n    if (Object.observe && cfg.useES7Observe) {\n      if (this._es7observe && this.hasListen()) {\n        Object.unobserve(this.target, this._onObserveChanged);\n        _es7observe = false;\n      }\n    } else if (this.watchers[attr]) {\n      this._undefineProperty(attr, this.target[attr]);\n      delete this.watchers[attr];\n    }\n  }\n\n  _parseBindArg(attrs, handlers) {\n    if (arguments.length == 1) {\n      handlers = attrs;\n      attrs = _.keys(this.target);\n    } else if (!_.isArray(attrs)) {\n      attrs = [attrs + ''];\n    } else {\n      attrs = _.map(attrs, attr => {\n        return attr + '';\n      });\n    }\n    if (!_.isArray(handlers)) {\n      handlers = [handlers];\n    }\n    handlers = _.filter(handlers, (h) => {\n      return _.isFunction(h);\n    });\n    return {\n      attrs: attrs,\n      handlers: handlers\n    };\n  }\n\n  hasListen() {\n    return _.findKey(this.listens);\n  }\n\n  on() {\n    let arg = this._parseBindArg.apply(this, arguments);\n    if (arg.attrs.length && arg.handlers.length) {\n      let obj = checkObj(this.target);\n      _.each(arg.attrs, attr => {\n        if (!(attr in obj)) {\n          obj[attr] = undefined;\n        }\n      });\n      _.each(arg.attrs, attr => {\n        this._addListen(attr, arg.handlers);\n      });\n    }\n    return this.target;\n  }\n\n  un() {\n    let arg = this._parseBindArg.apply(this, arguments);\n    if (arg.attrs.length) {\n      _.each(arg.attrs, attr => {\n        this._removeListen(attr, arg.handlers);\n      });\n    }\n    return this.target;\n  }\n\n\n  destory() {\n    if (Object.observe && cfg.useES7Observe) {\n      Object.unobserve(this.target, this._onObserveChanged);\n      this.listens = {};\n    } else {\n      _.each(this.watchers, (state) => {\n        state.unbind();\n      });\n      this.watchers = {};\n    }\n    unbindObserver(this);\n  }\n}\nfunction checkObj(obj) {\n  if (window.VBProxy && window.VBProxy.isVBProxy(obj)) {\n    obj = window.VBProxy.getVBProxyDesc(obj).object;\n  }\n  return obj;\n}\nmodule.exports = {\n  observe(obj) {\n    // VB Proxy\n    //\n    obj = checkObj(obj);\n    let observer = getBindObserver(obj);\n    if (!observer) {\n      observer = new Observer(obj);\n    }\n    let ret = observer.on.apply(observer, _.slice(arguments, 1));\n    if (!observer.hasListen()) {\n      observer.destory();\n    }\n    return ret;\n  },\n\n  unobserve(obj) {\n    obj = checkObj(obj);\n    let observer = getBindObserver(obj);\n    if (observer) {\n      let ret = observer.un.apply(observer, _.slice(arguments, 1));\n      if (!observer.hasListen()) {\n        observer.destory();\n      }\n      return ret;\n    }\n  },\n\n  _getObserver(obj) {\n    return getBindObserver(obj);\n  },\n\n  cfg: cfg,\n\n  support: !!Object.observe || (window.supportDefinePropertyOnObject !== undefined ? window.supportDefinePropertyOnObject : (function() {\n      if (!Object.defineProperty) {\n        return false;\n      }\n      try {\n        let val;\n        Object.defineProperty(object, 'sentinel', {\n          get() {\n            return val;\n          },\n          set(value) {\n            val = value;\n          }\n        });\n        object.sentinel = 1;\n        return object.sentinel === val;\n      } catch (exception) {\n        return false;\n      }\n    })())\n};\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/observer.js\n **/"],"sourceRoot":""}