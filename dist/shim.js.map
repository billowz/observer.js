{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 44b7d165cdf4aa000681","webpack:///C:/Users/cmp/git/observer.js/src/shim.js","webpack:///C:/Users/cmp/git/observer.js/src/shim/es5.js","webpack:///C:/Users/cmp/git/observer.js/src/shim/collection.js","webpack:///C:/Users/cmp/git/observer.js/src/shim/VBProxy.js","webpack:///C:/Users/cmp/git/observer.js/src/shim/defineProperty.js"],"names":[],"mappings":"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","file":"shim.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 44b7d165cdf4aa000681\n **/","require('./shim/es5');\nrequire('./shim/collection');\nrequire('./shim/VBProxy');\nrequire('./shim/defineProperty');\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/shim.js\n **/","function fixFn(Type, name, _name) {\n  if (!Type[name]) {\n    Type[name] = typeof _name === 'function' ? _name : function() {\n      return _[_name || name].apply(_, arguments);\n    }\n  }\n}\nfunction fixProtoFn(Type, name, _name) {\n  Type = Type.prototype;\n  if (!Type[name]) {\n    Type[name] = typeof _name === 'function' ? _name : function() {\n      return _[_name || name].apply(_, [this].concat(_.slice(arguments)));\n    }\n  }\n}\n\nfixFn(Object, 'create');\n\nfixProtoFn(Function, 'bind');\n\nfixProtoFn(Array, 'forEach', 'each');\n\nfixProtoFn(Array, 'indexOf');\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/shim/es5.js\n **/","/**\n * Map & Set & WeakMap & WeakSet\n */\nrequire('./es5')\n\nlet i;\n//Polyfill global objects\nif (!window.WeakMap) {\n  window.WeakMap = createCollection({\n    // WeakMap#delete(key:void*):boolean\n    'delete': sharedDelete,\n    // WeakMap#clear():\n    clear: sharedClear,\n    // WeakMap#get(key:void*):void*\n    get: sharedGet,\n    // WeakMap#has(key:void*):boolean\n    has: mapHas,\n    // WeakMap#set(key:void*, value:void*):void\n    set: sharedSet\n  }, true);\n}\n\nif (!window.Map) {\n  window.Map = createCollection({\n    // WeakMap#delete(key:void*):boolean\n    'delete': sharedDelete,\n    //:was Map#get(key:void*[, d3fault:void*]):void*\n    // Map#has(key:void*):boolean\n    has: mapHas,\n    // Map#get(key:void*):boolean\n    get: sharedGet,\n    // Map#set(key:void*, value:void*):void\n    set: sharedSet,\n    // Map#keys(void):Iterator\n    keys: sharedKeys,\n    // Map#values(void):Iterator\n    values: sharedValues,\n    // Map#entries(void):Iterator\n    entries: mapEntries,\n    // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n    forEach: sharedForEach,\n    // Map#clear():\n    clear: sharedClear\n  });\n}\n\nif (!window.Set) {\n  window.Set = createCollection({\n    // Set#has(value:void*):boolean\n    has: setHas,\n    // Set#add(value:void*):boolean\n    add: sharedAdd,\n    // Set#delete(key:void*):boolean\n    'delete': sharedDelete,\n    // Set#clear():\n    clear: sharedClear,\n    // Set#keys(void):Iterator\n    keys: sharedValues, // specs actually say \"the same function object as the initial value of the values property\"\n    // Set#values(void):Iterator\n    values: sharedValues,\n    // Set#entries(void):Iterator\n    entries: setEntries,\n    // Set#forEach(callback:Function, context:void*):void ==> callback.call(context, value, index) === not in specs\n    forEach: sharedForEach\n  });\n}\n\nif (!window.WeakSet) {\n  window.WeakSet = createCollection({\n    // WeakSet#delete(key:void*):boolean\n    'delete': sharedDelete,\n    // WeakSet#add(value:void*):boolean\n    add: sharedAdd,\n    // WeakSet#clear():\n    clear: sharedClear,\n    // WeakSet#has(value:void*):boolean\n    has: setHas\n  }, true);\n}\n\n\n/**\n * ES6 collection constructor\n * @return {Function} a collection class\n */\nfunction createCollection(proto, objectOnly) {\n  function Collection(a) {\n    if (!this || this.constructor !== Collection) return new Collection(a);\n    this._keys = [];\n    this._values = [];\n    this._itp = []; // iteration pointers\n    this.objectOnly = objectOnly;\n\n    //parse initial iterable argument passed\n    if (a) init.call(this, a);\n  }\n\n  //define size for non object-only collections\n  if (!objectOnly) {\n    proto.size = sharedSize;\n  }\n\n  //set prototype\n  proto.constructor = Collection;\n  Collection.prototype = proto;\n\n  return Collection;\n}\n\n\n/** parse initial iterable argument passed */\nfunction init(a) {\n  var i;\n  //init Set argument, like `[1,2,3,{}]`\n  if (this.add)\n    a.forEach(this.add, this);\n  //init Map argument like `[[1,2], [{}, 4]]`\n  else\n    a.forEach(function(a) {\n      this.set(a[0], a[1])\n    }, this)\n}\n\n\n/** delete */\nfunction sharedDelete(key) {\n  if (this.has(key)) {\n    this._keys.splice(i, 1);\n    this._values.splice(i, 1);\n    // update iteration pointers\n    this._itp.forEach(function(p) {\n      if (i < p[0]) p[0]--;\n    });\n  }\n  // Aurora here does it while Canary doesn't\n  return -1 < i;\n}\n;\n\nfunction sharedGet(key) {\n  return this.has(key) ? this._values[i] : undefined;\n}\n\nfunction has(list, key) {\n  if (this.objectOnly && key !== Object(key))\n    throw new TypeError(\"Invalid value used as weak collection key\");\n  //NaN or 0 passed\n  if (key != key || key === 0)\n    for (i = list.length; i-- && !is(list[i], key);) {\n  }\n  else\n    i = list.indexOf(key);\n  return -1 < i;\n}\n\nfunction setHas(value) {\n  return has.call(this, this._values, value);\n}\n\nfunction mapHas(value) {\n  return has.call(this, this._keys, value);\n}\n\n/** @chainable */\nfunction sharedSet(key, value) {\n  this.has(key) ?\n    this._values[i] = value\n    :\n    this._values[this._keys.push(key) - 1] = value\n  ;\n  return this;\n}\n\n/** @chainable */\nfunction sharedAdd(value) {\n  if (!this.has(value)) this._values.push(value);\n  return this;\n}\n\nfunction sharedClear() {\n  (this._keys || 0).length = this._values.length = 0;\n}\n\n/** keys, values, and iterate related methods */\nfunction sharedKeys() {\n  return sharedIterator(this._itp, this._keys);\n}\n\nfunction sharedValues() {\n  return sharedIterator(this._itp, this._values);\n}\n\nfunction mapEntries() {\n  return sharedIterator(this._itp, this._keys, this._values);\n}\n\nfunction setEntries() {\n  return sharedIterator(this._itp, this._values, this._values);\n}\n\nfunction sharedIterator(itp, array, array2) {\n  var p = [0],\n    done = false;\n  itp.push(p);\n  return {\n    next: function() {\n      var v,\n        k = p[0];\n      if (!done && k < array.length) {\n        v = array2 ? [array[k], array2[k]] : array[k];\n        p[0]++;\n      } else {\n        done = true;\n        itp.splice(itp.indexOf(p), 1);\n      }\n      return {\n        done: done,\n        value: v\n      };\n    }\n  };\n}\n\nfunction sharedSize() {\n  return this._values.length;\n}\n\nfunction sharedForEach(callback, context) {\n  var it = this.entries();\n  for (;;) {\n    var r = it.next();\n    if (r.done) break;\n    callback.call(context, r.value[1], r.value[0], this);\n  }\n}\n\nmodule.exports = {\n  Map: window.Map,\n  Set: window.Set,\n  WeakMap: window.WeakMap,\n  WeakSet: window.WeakSet\n}\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/shim/collection.js\n **/","/**\n * 使用VBScript对象代理js对象的get/set方法, 参考Avalon实现\n * @see  https://github.com/RubyLouvre/avalon/blob/master/src/08%20modelFactory.shim.js\n */\nconst coll = require('./collection');\n\nlet OBJECT_PROTO_PROPS = ['hasOwnProperty', 'toString', 'toLocaleString', 'isPrototypeOf', 'propertyIsEnumerable', 'valueOf'],\n  ARRAY_PROTO_PROPS = ['concat', 'copyWithin', 'entries', 'every', 'fill', 'filter', 'find', 'findIndex', 'forEach', 'indexOf', 'lastIndexOf', 'length', 'map', 'keys', 'join', 'pop', 'push', 'reverse', 'reverseRight', 'some', 'shift', 'slice', 'sort', 'splice', 'toSource', 'unshift'],\n  DESC_BINDING = '__PROXY__',\n  CONST_BINDING = '__VB_CONST__',\n  CONST_SCRIPT = [\n    '\\tPublic [' + DESC_BINDING + ']',\n    '\\tPublic Default Function [' + CONST_BINDING + '](desc)',\n    '\\t\\tset [' + DESC_BINDING + '] = desc',\n    '\\t\\tSet [' + CONST_BINDING + '] = Me',\n    '\\tEnd Function'\n  ].join('\\r\\n'),\n  VBClassPool = {},\n  VBProxyLoop = new Map(),\n  classId = 0,\n  support;\n\nfunction isSupported() {\n  if (support === undefined) {\n    if (window.VBArray) {\n      try {\n        window.execScript([ // jshint ignore:line\n          'Function parseVB(code)',\n          '\\tExecuteGlobal(code)',\n          'End Function' //转换一段文本为VB代码\n        ].join('\\n'), 'VBScript');\n        support = true;\n      } catch (e) {\n        support = false;\n        console.error(e.message, e);\n      }\n    } else {\n      support = false;\n    }\n  }\n  return support;\n}\n\nfunction genClassName() {\n  return 'VBClass' + (classId++);\n}\n\nfunction parseVBClassFactoryName(className) {\n  return className + 'Factory';\n}\n\nfunction genVBClassPropertyGetterScript(name, valueScript) {\n  return [\n    '\\tPublic Property Get [' + name + ']',\n    '\\tOn Error Resume Next', //必须优先使用set语句,否则它会误将数组当字符串返回\n    '\\t\\tSet[' + name + '] = ' + valueScript,\n    '\\tIf Err.Number <> 0 Then',\n    '\\t\\t[' + name + '] = ' + valueScript,\n    '\\tEnd If',\n    '\\tOn Error Goto 0',\n    '\\tEnd Property'\n  ].join('\\r\\n');\n}\n\nfunction genVBClassPropertySetterScript(name, valueScript) {\n  return [\n    '\\tPublic Property Let [' + name + '](val)',\n    '\\t\\t' + valueScript,\n    '\\tEnd Property',\n    '\\tPublic Property Set [' + name + '](val)', //setter\n    '\\t\\t' + valueScript,\n    '\\tEnd Property',\n  ].join('\\r\\n');\n}\n\nfunction genVBClassScript(className, properties, accessors) {\n  let buffer = [], i, j, name,\n    added = [];\n\n  buffer.push('Class ' + className, CONST_SCRIPT);\n\n  //添加访问器属性\n  accessors.forEach(name => {\n    buffer.push(\n      genVBClassPropertySetterScript(name, 'Call [' + DESC_BINDING + '].set(Me, \"' + name + '\", val)'),\n      genVBClassPropertyGetterScript(name, '[' + DESC_BINDING + '].get(Me, \"' + name + '\")')\n    );\n    added.push(name);\n  });\n  //添加普通属性,因为VBScript对象不能像JS那样随意增删属性，必须在这里预先定义好\n  properties.forEach(name => {\n    if (added.indexOf(name) == -1) {\n      buffer.push('\\tPublic [' + name + ']');\n    }\n  });\n\n  buffer.push('End Class');\n  return buffer.join('\\r\\n');\n}\nfunction genVBClass(properties, accessors) {\n  let buffer = [], className, factoryName,\n    key = '[' + properties.join(',') + ']&&[' + accessors.join(',') + ']';\n  className = VBClassPool[key];\n  if (className) {\n    return parseVBClassFactoryName(className);\n  } else {\n    className = genClassName();\n    factoryName = parseVBClassFactoryName(className);\n    window.parseVB(genVBClassScript(className, properties, accessors));\n    window.parseVB([\n      'Function ' + factoryName + '(desc)', //创建实例并传入两个关键的参数\n      '\\tDim o',\n      '\\tSet o = (New ' + className + ')(desc)',\n      '\\tSet ' + factoryName + ' = o',\n      'End Function'\n    ].join('\\r\\n'));\n    VBClassPool[key] = className;\n    return factoryName;\n  }\n}\n\nclass ObjectDescriptor {\n  constructor(object, defines) {\n    this.object = object;\n    this.defines = defines || {};\n  }\n  defineProperty(attr, desc) {\n    this.defines[attr] = desc;\n    if (!desc.get && !desc.set) {\n      this.object[attr] = desc.value;\n    } else {\n      if (typeof desc.get !== 'function') {\n        delete desc.get;\n        this.object[attr] = desc.value;\n      } else {\n        this.object[attr] = desc.get();\n      }\n      if (typeof desc.set !== 'function') {\n        delete desc.set;\n      }\n    }\n  }\n  getPropertyDefine(attr) {\n    return this.defines[attr];\n  }\n  get(instance, attr) {\n    let define = this.defines[attr];\n    if (define && define.get) {\n      return define.get.call(instance);\n    } else {\n      return this.object[attr];\n    }\n  }\n  set(instance, attr, value) {\n    let define = this.defines[attr];\n    if (define && define.set) {\n      define.set.call(instance, value);\n    }\n    this.object[attr] = value;\n  }\n}\n\nfunction createVBProxy(object, desc) {\n  let accessors = [],\n    props = [], i, bind;\n  desc = desc || new ObjectDescriptor(object);\n  for (name in object) {\n    accessors.push(name);\n  }\n\n  props = props.concat(OBJECT_PROTO_PROPS);\n  if (Object.prototype.toString.call(object) === '[object Array]') {\n    props = props.concat(ARRAY_PROTO_PROPS);\n  }\n\n  proxy = window[genVBClass(props, accessors)](desc);\n\n  proxy['hasOwnProperty'] = function hasOwnProperty(attr) {\n    return attr !== DESC_BINDING && attr !== CONST_BINDING && coll.indexOf(props, attr) == -1;\n  }\n\n  props.forEach(name => {\n    if (typeof proxy[name] === 'undefined') {\n      bind = object[name];\n      if (typeof bind === 'function') {\n        bind = bind.bind(object);\n      }\n      proxy[name] = bind;\n    }\n  });\n  return proxy;\n}\n\nlet VBProxy = {\n  isSupport: isSupported,\n  isVBProxy(object) {\n    return CONST_BINDING in object;\n  },\n  getVBProxy(object, justInPool) {\n    if (VBProxy.isVBProxy(object)) {\n      if (justInPool === false) {\n        return VBProxyLoop.get(object[DESC_BINDING].object) || object;\n      }\n      object = object[DESC_BINDING].object;\n    }\n    return VBProxyLoop.get(object);\n  },\n  getVBProxyDesc(object) {\n    let proxy = VBProxy.isVBProxy(object) ? object : VBProxyLoop.get(object);\n    return proxy ? proxy[DESC_BINDING] : undefined;\n  },\n  createVBProxy(object) {\n    let proxy = VBProxy.getVBProxy(object, false),\n      rebuild = false, name, desc;\n    if (proxy) {\n      object = proxy[DESC_BINDING].object;\n      for (name in object) {\n        if (!(name in proxy)) {\n          rebuild = true;\n          break;\n        }\n      }\n      if (!rebuild) {\n        return proxy;\n      }\n      desc = proxy[DESC_BINDING];\n    }\n    proxy = createVBProxy(object, desc);\n    VBProxyLoop.set(object, proxy);\n    return proxy;\n  }\n}\n\nfunction fixPrototypeProp(Type, name) {\n  let fn = Type.prototype[name];\n  if (typeof fn === 'function') {\n    Type.prototype[name] = function() {\n      if (VBProxy.isVBProxy(this)) {\n        return fn.apply(this[DESC_BINDING].object, arguments);\n      }\n      return fn.apply(this, arguments);\n    }\n  }\n}\nfunction fixPrototypeProps(Type, props) {\n  for (let i = 0; i < props.length; i++) {\n    fixPrototypeProp(Type, props[i]);\n  }\n}\n\nfixPrototypeProps(Object, OBJECT_PROTO_PROPS);\nfixPrototypeProps(Array, ARRAY_PROTO_PROPS);\n\nwindow.VBProxy = VBProxy;\nmodule.exports = VBProxy;\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/shim/VBProxy.js\n **/","/**\n * 修复浏览器(IE 6,7,8)对Object.defineProperty的支持，使用VBProxy\n */\n\nfunction doesDefinePropertyWork(object) {\n  try {\n    let val;\n    Object.defineProperty(object, 'sentinel', {\n      get() {\n        return val;\n      },\n      set(value) {\n        val = value;\n      }\n    });\n    object.sentinel = 1;\n    return object.sentinel === val;\n  } catch (exception) {\n    return false;\n  }\n}\n\nwindow.supportDefinePropertyOnObject = Object.defineProperty && doesDefinePropertyWork({}),\nwindow.supportDefinePropertyOnDom = Object.defineProperty && doesDefinePropertyWork(document.createElement('div'));\nif (!window.supportDefinePropertyOnObject) {\n  let VBProxy = require('./VBProxy');\n  if (VBProxy.isSupport()) {\n    window.supportDefinePropertyOnObject = true;\n    function isElement(value) {\n      return value !== undefined\n        && typeof HTMLElement !== 'undefined'\n        && value instanceof HTMLElement\n        && value.nodeType === 1\n    }\n    function fixObject(name, fixedFn, domFn) {\n      if (domFn) {\n        Object[name] = function(object) {\n          if (isElement(object)) {\n            return domFn.apply(Object, arguments);\n          } else {\n            return fixedFn.apply(Object, arguments);\n          }\n        }\n      } else {\n        Object[name] = fixedFn;\n      }\n    }\n\n    function isAccessor(desc) {\n      return 'get' in desc || 'set' in desc;\n    }\n\n    fixObject('defineProperty', function(object, prop, desc) {\n      var descs = {};\n      descs[prop] = desc;\n      return Object.defineProperties(object, descs);\n    }, supportDefinePropertyOnDom ? Object.defineProperty : null);\n\n    fixObject('defineProperties', function(object, descs) {\n      let proxy, prop, proxyDesc;\n      if (VBProxy.isVBProxy(object)) {\n        proxy = object;\n        object = VBProxy.getVBProxyDesc(proxy).object;\n      }\n      for (prop in descs) {\n        if (!(prop in object)) {\n          object[prop] = undefined;\n        }\n      }\n      proxy = VBProxy.createVBProxy(proxy || object);\n      proxyDesc = VBProxy.getVBProxyDesc(proxy);\n      for (prop in descs) {\n        proxyDesc.defineProperty(prop, descs[prop]);\n      }\n      return proxy;\n    }, supportDefinePropertyOnDom ? Object.defineProperties : null);\n\n    fixObject('getOwnPropertyDescriptor', function(object, attr) {\n      let proxy, define;\n      if (VBProxy.isSupport()) {\n        proxy = VBProxy.getVBProxy(object);\n        if (proxy) {\n          if (!(attr in proxy)) {\n            return undefined;\n          }\n          object = proxy.__proxy__.object;\n          define = proxy.__proxy__.getPropertyDefine(attr);\n        }\n      }\n      return define || {\n          value: object[attr],\n          writable: true,\n          enumerable: true,\n          configurable: true\n        };\n    }, supportDefinePropertyOnDom ? Object.getOwnPropertyDescriptor : null);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/shim/defineProperty.js\n **/"],"sourceRoot":""}