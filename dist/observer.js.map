{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d369d7854f31246325bb","webpack:///C:/Users/cmp/git/observer.js/src/index.js","webpack:///C:/Users/cmp/git/observer.js/src/collection.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}","webpack:///C:/Users/cmp/git/observer.js/src/observer.js"],"names":[],"mappings":"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","file":"observer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"observer\"] = factory(require(\"_\"));\n\telse\n\t\troot[\"observer\"] = factory(root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d369d7854f31246325bb\n **/","require('./collection')\nmodule.exports = require('./observer');\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/index.js\n **/","const _ = require('lodash');\nlet i;\n(function(exports) {\n  //Polyfill global objects\n  if (typeof WeakMap == 'undefined') {\n    exports.WeakMap = createCollection({\n      // WeakMap#delete(key:void*):boolean\n      'delete': sharedDelete,\n      // WeakMap#clear():\n      clear: sharedClear,\n      // WeakMap#get(key:void*):void*\n      get: sharedGet,\n      // WeakMap#has(key:void*):boolean\n      has: mapHas,\n      // WeakMap#set(key:void*, value:void*):void\n      set: sharedSet\n    }, true);\n  }\n\n  if (typeof Map == 'undefined' || !_.isFunction(((new Map).values)) || !(new Map).values().next) {\n    exports.Map = createCollection({\n      // WeakMap#delete(key:void*):boolean\n      'delete': sharedDelete,\n      //:was Map#get(key:void*[, d3fault:void*]):void*\n      // Map#has(key:void*):boolean\n      has: mapHas,\n      // Map#get(key:void*):boolean\n      get: sharedGet,\n      // Map#set(key:void*, value:void*):void\n      set: sharedSet,\n      // Map#keys(void):Iterator\n      keys: sharedKeys,\n      // Map#values(void):Iterator\n      values: sharedValues,\n      // Map#entries(void):Iterator\n      entries: mapEntries,\n      // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n      forEach: sharedForEach,\n      // Map#clear():\n      clear: sharedClear\n    });\n  }\n\n  if (typeof Set == 'undefined' || !_.isFunction(((new Set).values)) || !(new Set).values().next) {\n    exports.Set = createCollection({\n      // Set#has(value:void*):boolean\n      has: setHas,\n      // Set#add(value:void*):boolean\n      add: sharedAdd,\n      // Set#delete(key:void*):boolean\n      'delete': sharedDelete,\n      // Set#clear():\n      clear: sharedClear,\n      // Set#keys(void):Iterator\n      keys: sharedValues, // specs actually say \"the same function object as the initial value of the values property\"\n      // Set#values(void):Iterator\n      values: sharedValues,\n      // Set#entries(void):Iterator\n      entries: setEntries,\n      // Set#forEach(callback:Function, context:void*):void ==> callback.call(context, value, index) === not in specs\n      forEach: sharedForEach\n    });\n  }\n\n  if (typeof WeakSet == 'undefined') {\n    exports.WeakSet = createCollection({\n      // WeakSet#delete(key:void*):boolean\n      'delete': sharedDelete,\n      // WeakSet#add(value:void*):boolean\n      add: sharedAdd,\n      // WeakSet#clear():\n      clear: sharedClear,\n      // WeakSet#has(value:void*):boolean\n      has: setHas\n    }, true);\n  }\n\n\n  /**\n   * ES6 collection constructor\n   * @return {Function} a collection class\n   */\n  function createCollection(proto, objectOnly) {\n    function Collection(a) {\n      if (!this || this.constructor !== Collection) return new Collection(a);\n      this._keys = [];\n      this._values = [];\n      this._itp = []; // iteration pointers\n      this.objectOnly = objectOnly;\n\n      //parse initial iterable argument passed\n      if (a) init.call(this, a);\n    }\n\n    //define size for non object-only collections\n    if (!objectOnly) {\n      proto.size = sharedSize;\n    }\n\n    //set prototype\n    proto.constructor = Collection;\n    Collection.prototype = proto;\n\n    return Collection;\n  }\n\n\n  /** parse initial iterable argument passed */\n  function init(a) {\n    var i;\n    //init Set argument, like `[1,2,3,{}]`\n    if (this.add)\n      a.forEach(this.add, this);\n    //init Map argument like `[[1,2], [{}, 4]]`\n    else\n      a.forEach(function(a) {\n        this.set(a[0], a[1])\n      }, this);\n  }\n\n\n  /** delete */\n  function sharedDelete(key) {\n    if (this.has(key)) {\n      this._keys.splice(i, 1);\n      this._values.splice(i, 1);\n      // update iteration pointers\n      this._itp.forEach(function(p) {\n        if (i < p[0]) p[0]--;\n      });\n    }\n    // Aurora here does it while Canary doesn't\n    return -1 < i;\n  }\n  ;\n\n  function sharedGet(key) {\n    return this.has(key) ? this._values[i] : undefined;\n  }\n\n  function has(list, key) {\n    if (this.objectOnly && key !== Object(key))\n      throw new TypeError(\"Invalid value used as weak collection key\");\n    //NaN or 0 passed\n    if (key != key || key === 0)\n      for (i = list.length; i-- && !is(list[i], key);) {\n    }\n    else\n      i = list.indexOf(key);\n    return -1 < i;\n  }\n\n  function setHas(value) {\n    return has.call(this, this._values, value);\n  }\n\n  function mapHas(value) {\n    return has.call(this, this._keys, value);\n  }\n\n  /** @chainable */\n  function sharedSet(key, value) {\n    this.has(key) ?\n      this._values[i] = value\n      :\n      this._values[this._keys.push(key) - 1] = value\n    ;\n    return this;\n  }\n\n  /** @chainable */\n  function sharedAdd(value) {\n    if (!this.has(value)) this._values.push(value);\n    return this;\n  }\n\n  function sharedClear() {\n    (this._keys || 0).length = this._values.length = 0;\n  }\n\n  /** keys, values, and iterate related methods */\n  function sharedKeys() {\n    return sharedIterator(this._itp, this._keys);\n  }\n\n  function sharedValues() {\n    return sharedIterator(this._itp, this._values);\n  }\n\n  function mapEntries() {\n    return sharedIterator(this._itp, this._keys, this._values);\n  }\n\n  function setEntries() {\n    return sharedIterator(this._itp, this._values, this._values);\n  }\n\n  function sharedIterator(itp, array, array2) {\n    var p = [0],\n      done = false;\n    itp.push(p);\n    return {\n      next: function() {\n        var v,\n          k = p[0];\n        if (!done && k < array.length) {\n          v = array2 ? [array[k], array2[k]] : array[k];\n          p[0]++;\n        } else {\n          done = true;\n          itp.splice(itp.indexOf(p), 1);\n        }\n        return {\n          done: done,\n          value: v\n        };\n      }\n    };\n  }\n\n  function sharedSize() {\n    return this._values.length;\n  }\n\n  function sharedForEach(callback, context) {\n    var it = this.entries();\n    for (;;) {\n      var r = it.next();\n      if (r.done) break;\n      callback.call(context, r.value[1], r.value[0], this);\n    }\n  }\n\n})(typeof exports != 'undefined' && typeof global != 'undefined' ? global : window);\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/collection.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}\n ** module id = 2\n ** module chunks = 0\n **/","const _ = require('lodash'),\n  ARRAY_METHODS = ['push', 'pop', 'shift', 'unshift', 'sort', 'reverse', 'splice'],\n  prefixes = 'webkit moz ms o'.split(' '),\n  getFrame = function getFrame(prop, defaultVal) {\n    let ret = window[prop];\n    if (!ret) {\n      prop = _.capitalize(prop);\n      prop = _.find(prefixes, prefix => {\n        return window[prefix + prop];\n      })\n      ret = prop ? window[prop] : null;\n    }\n    return ret || defaultVal;\n  },\n  requestFrame = getFrame('requestAnimationFrame', function requestAnimationFrame(callback) {\n    let currTime = new Date().getTime(),\n      timeToCall = Math.max(0, 16 - (currTime - lastTime)),\n      reqId = setTimeout(function() {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return reqId;\n  }).bind(window);\n\nlet _observers = new Map(),\n  lastTime = 0,\n  cfg = {\n    useES7Observe: true\n  };\n\nfunction bindObserver(observer) {\n  if (observer._binded !== true) {\n    _observers.set(observer.target, observer);\n    observer._binded = true;\n  }\n}\n\nfunction unbindObserver(observer) {\n  if (observer._binded === true) {\n    if (_observers.get(observer.target) === observer) {\n      _observers.delete(observer.target);\n    }\n    observer._binded = false;\n  }\n}\n\nfunction getBindObserver(target) {\n  return _observers.get(target);\n}\n\nclass State {\n  constructor(target, attr, onChange) {\n    this.target = target;\n    this.attr = attr;\n    this.onChange = onChange;\n    this.define = Object.getOwnPropertyDescriptor(target, attr) || {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: target[attr]\n    };\n  }\n\n\n  getValue() {\n    if (this.define.get) {\n      return this.define.get.call(this.target);\n    } else {\n      return this.define.value;\n    }\n  }\n\n  setValue(value) {\n    let oldValue = this.getValue();\n    if (value !== oldValue) {\n      if (this.define.set) {\n        this.define.set.call(this.target, value);\n      } else {\n        this.define.value = value;\n      }\n      this.onChange(this.attr, oldValue);\n    }\n  }\n\n  bind() {\n    if (!this._binded) {\n      Object.defineProperty(this.target, this.attr, {\n        enumerable: true,\n        configurable: true,\n        get: this.getValue.bind(this),\n        set: this.setValue.bind(this)\n      });\n      this._binded = true;\n    }\n    return this;\n  }\n\n  unbind() {\n    if (this._binded) {\n      Object.defineProperty(this.target, this.attr, this.define);\n      this._binded = false;\n    }\n    return this;\n  }\n\n  isBinded() {\n    return !!this._binded;\n  }\n}\n\nclass Observer {\n  constructor(target) {\n    if (!_.isArray(target) && !_.isObject(target)) {\n      throw TypeError('can not observe object[' + (typeof target) + ']');\n    }\n    this.target = target;\n    this.watchers = {};\n    this.listens = {};\n    this._onObserveChanged = this._onObserveChanged.bind(this);\n    this._notify = this._notify.bind(this);\n    this.changeRecords = {};\n    bindObserver(this);\n  }\n\n  _notify() {\n    _.map(this.changeRecords, (oldVal, attr) => {\n      let handlers = this.listens[attr];\n      _.each(handlers, h => {\n        h(attr, this.target[attr], oldVal, this.target);\n      })\n    });\n    this.changeRecords = {};\n  }\n\n  _addChangeRecord(attr, oldVal) {\n    if (!(attr in this.changeRecords)) {\n      this.changeRecords[attr] = oldVal;\n      if (!this.__request_frame) {\n        this.__request_frame = requestFrame(this._notify);\n      }\n    }\n  }\n\n  _addListen(attr, handlers) {\n    let attrHandlers = this.listens[attr];\n    if (!attrHandlers) {\n      attrHandlers = this.listens[attr] = [];\n    }\n    _.each(handlers, (h) => {\n      if (!_.include(attrHandlers, h)) {\n        attrHandlers.push(h);\n      }\n    });\n    if (attrHandlers.length) {\n      this._watch(attr);\n    }\n  }\n\n  _removeListen(attr, handlers) {\n    let attrHandlers = this.listens[attr];\n    if (attrHandlers) {\n      if (handlers.length) {\n        _.remove(attrHandlers, (h) => {\n          return _.include(handlers, h);\n        });\n      }\n      if (!handlers.length || !attrHandlers.length) {\n        delete this.listens[attr];\n        this._unwatch(attr);\n      }\n    }\n  }\n\n  _onStateChanged(attr, oldVal) {\n    if (attr in this.listens) {\n      this._addChangeRecord(attr, oldVal);\n    }\n  }\n\n  _onObserveChanged(changes) {\n    _.each(changes, change => {\n      this._onStateChanged(change.name, change.oldValue);\n    });\n  }\n\n  _watch(attr) {\n    if (Object.observe && cfg.useES7Observe) {\n      if (!this._es7observe) {\n        Object.observe(this.target, this._onObserveChanged);\n        this._es7observe = true;\n      }\n    } else if (!this.watchers[attr]) {\n      this.watchers[attr] = new State(this.target, attr, this._onStateChanged.bind(this)).bind();\n    }\n  }\n\n  _unwatch(attr) {\n    if (Object.observe && cfg.useES7Observe) {\n      if (this._es7observe && this.hasListen()) {\n        Object.unobserve(this.target, this._onObserveChanged);\n        _es7observe = false;\n      }\n    } else if (this.watchers[attr]) {\n      this.watchers[attr].unbind();\n      delete this.watchers[attr];\n    }\n  }\n\n  _parseBindArg(attrs, handlers) {\n    if (arguments.length == 1) {\n      handlers = attrs;\n      attrs = _.keys(this.target);\n    } else if (!_.isArray(attrs)) {\n      attrs = [attrs + ''];\n    } else {\n      attrs = _.map(attrs, attr => {\n        return attr + '';\n      });\n    }\n    if (!_.isArray(handlers)) {\n      handlers = [handlers];\n    }\n    handlers = _.filter(handlers, (h) => {\n      return _.isFunction(h);\n    });\n    return {\n      attrs: attrs,\n      handlers: handlers\n    };\n  }\n\n  hasListen() {\n    return _.findKey(this.listens);\n  }\n\n  on() {\n    let arg = this._parseBindArg.apply(this, arguments);\n    if (!arg.attrs.length || !arg.handlers.length) {\n      return;\n    }\n    _.each(arg.attrs, attr => {\n      this._addListen(attr, arg.handlers);\n    });\n\n  }\n\n  un() {\n    let arg = this._parseBindArg.apply(this, arguments);\n    if (!arg.attrs.length) {\n      return;\n    }\n    _.each(arg.attrs, attr => {\n      this._removeListen(attr, arg.handlers);\n    });\n    return this;\n  }\n\n\n  destory() {\n    if (Object.observe && cfg.useES7Observe) {\n      Object.unobserve(this.target, this._onObserveChanged);\n      this.listens = {};\n    } else {\n      _.each(this.watchers, (state) => {\n        state.unbind();\n      });\n      this.watchers = {};\n    }\n    unbindObserver(this);\n  }\n}\n\nmodule.exports = {\n  on(obj) {\n    let observer = getBindObserver(obj);\n    if (!observer) {\n      observer = new Observer(obj);\n    }\n    observer.on.apply(observer, _.slice(arguments, 1));\n    if (!observer.hasListen()) {\n      observer.destory();\n    }\n  },\n  un(obj) {\n    let observer = getBindObserver(obj);\n    if (observer) {\n      observer.un.apply(observer, _.slice(arguments, 1));\n      if (!observer.hasListen()) {\n        observer.destory();\n      }\n    }\n  },\n  getObserver(obj) {\n    return getBindObserver(obj);\n  },\n  cfg: cfg\n};\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/observer.js/src/observer.js\n **/"],"sourceRoot":""}