{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1d57a69c5e07ab3a9f5f","webpack:///C:/Users/tao.zeng/git/observer.js/src/index.js","webpack:///C:/Users/tao.zeng/git/observer.js/src/shim/index.js","webpack:///C:/Users/tao.zeng/git/observer.js/src/shim/collection.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}","webpack:///C:/Users/tao.zeng/git/observer.js/src/shim/function.js","webpack:///C:/Users/tao.zeng/git/observer.js/src/shim/object.js","webpack:///C:/Users/tao.zeng/git/observer.js/src/shim/VBProxy.js","webpack:///C:/Users/tao.zeng/git/observer.js/src/observer.js"],"names":[],"mappings":"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","file":"observer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"observer\"] = factory(require(\"_\"));\n\telse\n\t\troot[\"observer\"] = factory(root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1d57a69c5e07ab3a9f5f\n **/","require('./shim');\r\nmodule.exports = require('./observer');\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/index.js\n **/","require('./collection');\r\nrequire('./function');\r\nrequire('./object');\r\nrequire('./VBProxy');\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/shim/index.js\n **/","const _ = require('lodash');\r\nlet i,\r\n  shims = {};\r\n//Polyfill global objects\r\nif (typeof WeakMap == 'undefined') {\r\n  shims.WeakMap = createCollection({\r\n    // WeakMap#delete(key:void*):boolean\r\n    'delete': sharedDelete,\r\n    // WeakMap#clear():\r\n    clear: sharedClear,\r\n    // WeakMap#get(key:void*):void*\r\n    get: sharedGet,\r\n    // WeakMap#has(key:void*):boolean\r\n    has: mapHas,\r\n    // WeakMap#set(key:void*, value:void*):void\r\n    set: sharedSet\r\n  }, true);\r\n}\r\n\r\nif (typeof Map == 'undefined' || !_.isFunction(((new Map).values)) || !(new Map).values().next) {\r\n  shims.Map = createCollection({\r\n    // WeakMap#delete(key:void*):boolean\r\n    'delete': sharedDelete,\r\n    //:was Map#get(key:void*[, d3fault:void*]):void*\r\n    // Map#has(key:void*):boolean\r\n    has: mapHas,\r\n    // Map#get(key:void*):boolean\r\n    get: sharedGet,\r\n    // Map#set(key:void*, value:void*):void\r\n    set: sharedSet,\r\n    // Map#keys(void):Iterator\r\n    keys: sharedKeys,\r\n    // Map#values(void):Iterator\r\n    values: sharedValues,\r\n    // Map#entries(void):Iterator\r\n    entries: mapEntries,\r\n    // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\r\n    forEach: sharedForEach,\r\n    // Map#clear():\r\n    clear: sharedClear\r\n  });\r\n}\r\n\r\nif (typeof Set == 'undefined' || !_.isFunction(((new Set).values)) || !(new Set).values().next) {\r\n  shims.Set = createCollection({\r\n    // Set#has(value:void*):boolean\r\n    has: setHas,\r\n    // Set#add(value:void*):boolean\r\n    add: sharedAdd,\r\n    // Set#delete(key:void*):boolean\r\n    'delete': sharedDelete,\r\n    // Set#clear():\r\n    clear: sharedClear,\r\n    // Set#keys(void):Iterator\r\n    keys: sharedValues, // specs actually say \"the same function object as the initial value of the values property\"\r\n    // Set#values(void):Iterator\r\n    values: sharedValues,\r\n    // Set#entries(void):Iterator\r\n    entries: setEntries,\r\n    // Set#forEach(callback:Function, context:void*):void ==> callback.call(context, value, index) === not in specs\r\n    forEach: sharedForEach\r\n  });\r\n}\r\n\r\nif (typeof WeakSet == 'undefined') {\r\n  shims.WeakSet = createCollection({\r\n    // WeakSet#delete(key:void*):boolean\r\n    'delete': sharedDelete,\r\n    // WeakSet#add(value:void*):boolean\r\n    add: sharedAdd,\r\n    // WeakSet#clear():\r\n    clear: sharedClear,\r\n    // WeakSet#has(value:void*):boolean\r\n    has: setHas\r\n  }, true);\r\n}\r\n\r\n\r\n/**\r\n * ES6 collection constructor\r\n * @return {Function} a collection class\r\n */\r\nfunction createCollection(proto, objectOnly) {\r\n  function Collection(a) {\r\n    if (!this || this.constructor !== Collection) return new Collection(a);\r\n    this._keys = [];\r\n    this._values = [];\r\n    this._itp = []; // iteration pointers\r\n    this.objectOnly = objectOnly;\r\n\r\n    //parse initial iterable argument passed\r\n    if (a) init.call(this, a);\r\n  }\r\n\r\n  //define size for non object-only collections\r\n  if (!objectOnly) {\r\n    proto.size = sharedSize;\r\n  }\r\n\r\n  //set prototype\r\n  proto.constructor = Collection;\r\n  Collection.prototype = proto;\r\n\r\n  return Collection;\r\n}\r\n\r\n\r\n/** parse initial iterable argument passed */\r\nfunction init(a) {\r\n  var i;\r\n  //init Set argument, like `[1,2,3,{}]`\r\n  if (this.add)\r\n    a.forEach(this.add, this);\r\n  //init Map argument like `[[1,2], [{}, 4]]`\r\n  else\r\n    a.forEach(function(a) {\r\n      this.set(a[0], a[1])\r\n    }, this);\r\n}\r\n\r\n\r\n/** delete */\r\nfunction sharedDelete(key) {\r\n  if (this.has(key)) {\r\n    this._keys.splice(i, 1);\r\n    this._values.splice(i, 1);\r\n    // update iteration pointers\r\n    this._itp.forEach(function(p) {\r\n      if (i < p[0]) p[0]--;\r\n    });\r\n  }\r\n  // Aurora here does it while Canary doesn't\r\n  return -1 < i;\r\n}\r\n;\r\n\r\nfunction sharedGet(key) {\r\n  return this.has(key) ? this._values[i] : undefined;\r\n}\r\n\r\nfunction has(list, key) {\r\n  if (this.objectOnly && key !== Object(key))\r\n    throw new TypeError(\"Invalid value used as weak collection key\");\r\n  //NaN or 0 passed\r\n  if (key != key || key === 0)\r\n    for (i = list.length; i-- && !is(list[i], key);) {\r\n  }\r\n  else\r\n    i = _.indexOf(list, key);\r\n  return -1 < i;\r\n}\r\n\r\nfunction setHas(value) {\r\n  return has.call(this, this._values, value);\r\n}\r\n\r\nfunction mapHas(value) {\r\n  return has.call(this, this._keys, value);\r\n}\r\n\r\n/** @chainable */\r\nfunction sharedSet(key, value) {\r\n  this.has(key) ?\r\n    this._values[i] = value\r\n    :\r\n    this._values[this._keys.push(key) - 1] = value\r\n  ;\r\n  return this;\r\n}\r\n\r\n/** @chainable */\r\nfunction sharedAdd(value) {\r\n  if (!this.has(value)) this._values.push(value);\r\n  return this;\r\n}\r\n\r\nfunction sharedClear() {\r\n  (this._keys || 0).length = this._values.length = 0;\r\n}\r\n\r\n/** keys, values, and iterate related methods */\r\nfunction sharedKeys() {\r\n  return sharedIterator(this._itp, this._keys);\r\n}\r\n\r\nfunction sharedValues() {\r\n  return sharedIterator(this._itp, this._values);\r\n}\r\n\r\nfunction mapEntries() {\r\n  return sharedIterator(this._itp, this._keys, this._values);\r\n}\r\n\r\nfunction setEntries() {\r\n  return sharedIterator(this._itp, this._values, this._values);\r\n}\r\n\r\nfunction sharedIterator(itp, array, array2) {\r\n  var p = [0],\r\n    done = false;\r\n  itp.push(p);\r\n  return {\r\n    next: function() {\r\n      var v,\r\n        k = p[0];\r\n      if (!done && k < array.length) {\r\n        v = array2 ? [array[k], array2[k]] : array[k];\r\n        p[0]++;\r\n      } else {\r\n        done = true;\r\n        itp.splice(_.indexOf(itp, p), 1);\r\n      }\r\n      return {\r\n        done: done,\r\n        value: v\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nfunction sharedSize() {\r\n  return this._values.length;\r\n}\r\n\r\nfunction sharedForEach(callback, context) {\r\n  var it = this.entries();\r\n  for (;;) {\r\n    var r = it.next();\r\n    if (r.done) break;\r\n    callback.call(context, r.value[1], r.value[0], this);\r\n  }\r\n}\r\n\r\n_.assign(window, shims);\r\nmodule.exports = shims;\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/shim/collection.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}\n ** module id = 3\n ** module chunks = 0\n **/","const _ = require('lodash');\r\nlet shims = {},\r\n  protoShims = {};\r\nif (!Function.prototype.bind) {\r\n  protoShims.bind = function bind(scope) {\r\n    if (arguments.length < 2 && scope === undefined) {\r\n      return this\r\n    }\r\n    let fn = this,\r\n      args = _.slice(arguments, 1);\r\n    return function() {\r\n      return fn.apply(scope, args.push.apply(args, arguments));\r\n    }\r\n  }\r\n}\r\n_.assign(Function.prototype, protoShims);\r\nmodule.exports = _.assign(shims, protoShims);\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/shim/function.js\n **/","function doesDefinePropertyWork(object) {\r\n  try {\r\n    let val;\r\n    Object.defineProperty(object, 'sentinel', {\r\n      get() {\r\n        return val;\r\n      },\r\n      set(value) {\r\n        val = value;\r\n      }\r\n    });\r\n    object.sentinel = 1;\r\n    return object.sentinel === val;\r\n  } catch (exception) {\r\n    return false;\r\n  }\r\n}\r\nlet supportDefinePropertyOnObject = Object.defineProperty && doesDefinePropertyWork({});\r\nlet supportDefinePropertyOnDom = Object.defineProperty && doesDefinePropertyWork(document.createElement('div'));\r\nif (!supportDefinePropertyOnObject) {\r\n\r\n  function fixObject(name, fixedFn, domFn) {\r\n    if (domFn) {\r\n      Object[name] = function(object) {\r\n        if (_.isElement(object)) {\r\n          domFn.apply(Object, arguments);\r\n        } else {\r\n          fixedFn.apply(Object, arguments);\r\n        }\r\n      }\r\n    } else {\r\n      Object[name] = fixedFn;\r\n    }\r\n  }\r\n\r\n  fixObject('defineProperty', function(object, prop, desc) {\r\n    if ('value' in desc) {\r\n      object[prop] = desc.value;\r\n    } else if ('get' in desc || 'set' in desc) {\r\n      if (desc.get) {\r\n        if (Object.prototype.__defineGetter__) {\r\n          Object.prototype.__defineGetter__.call(o, prop, desc.get);\r\n        }\r\n      }\r\n      if (desc.set) {\r\n        if (Object.prototype.__defineSetter__) {\r\n          Object.prototype.__defineSetter__.call(o, prop, desc.set);\r\n        }\r\n      }\r\n    }\r\n  }, supportDefinePropertyOnDom ? Object.defineProperty : null);\r\n\r\n\r\n\r\n\r\n  fixObject('defineProperties', function() {}, supportDefinePropertyOnDom ? Object.defineProperties : null);\r\n  fixObject('getOwnPropertyDescriptor', function(object, attr) {\r\n    console.log('getOwnPropertyDescriptor', arguments)\r\n  }, supportDefinePropertyOnDom ? Object.getOwnPropertyDescriptor : null);\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/shim/object.js\n **/","if (window.VBArray) {\n\n  require('./collection');\n\n  let VBClassPool = {},\n    IDGen = 0;\n\n  function genClassName() {\n    return 'VBClass' + (IDGen++);\n  }\n\n  function parseVBClassFactoryName(className) {\n    return className + 'Factory';\n  }\n\n  window.execScript([ // jshint ignore:line\n    'Function parseVB(code)',\n    '\\tExecuteGlobal(code)',\n    'End Function' //转换一段文本为VB代码\n  ].join('\\n'), 'VBScript');\n\n  function genVBClassPropertyGetterScript(name, valueScript) {\n    return [\n      '\\tPublic Property Get [' + name + ']', //getter\n      '\\tOn Error Resume Next', //必须优先使用set语句,否则它会误将数组当字符串返回\n      '\\t\\tSet[' + name + '] = ' + valueScript,\n      '\\tIf Err.Number <> 0 Then',\n      '\\t\\t[' + name + '] = ' + valueScript,\n      '\\tEnd If',\n      '\\tOn Error Goto 0',\n      '\\tEnd Property'\n    ].join('\\r\\n');\n  }\n\n  function genVBClassPropertySetterScript(name, valueScript) {\n    return [\n      '\\tPublic Property Let [' + name + '](val)',\n      '\\t\\t' + valueScript,\n      '\\tEnd Property',\n      '\\tPublic Property Set [' + name + '](val)', //setter\n      '\\t\\t' + valueScript,\n      '\\tEnd Property',\n    ].join('\\r\\n');\n  }\n\n  let VBClassNormalScript = [\n      '\\tPrivate [__proxy__]',\n      '\\tPublic Default Function [__const__](desc)',\n      '\\t\\tset [__proxy__] = desc',\n      '\\t\\tSet [__const__] = Me', //链式调用\n      '\\tEnd Function'].join('\\r\\n'),\n    VBClassProxyPropertyScript = genVBClassPropertyGetterScript('__proxy__', '[__proxy__]');\n\n  function genVBClassScript(className, properties, accessors) {\n    let buffer = [];\n    buffer.push('Class ' + className, VBClassNormalScript);\n\n    //添加普通属性,因为VBScript对象不能像JS那样随意增删属性，必须在这里预先定义好\n    _.each(properties, (name) => {\n      buffer.push(\"\\tPublic [' + name + ']\");\n    });\n\n    //添加访问器属性\n    _.each(accessors, (name) => {\n      buffer.push(\n        genVBClassPropertySetterScript(name, 'Call [__proxy__].set(Me, \"' + name + '\", val)'),\n        genVBClassPropertyGetterScript(name, '[__proxy__].get(Me, \"' + name + '\")')\n      );\n    });\n\n    buffer.push('End Class');\n    return buffer.join('\\r\\n');\n  }\n\n  /**\n   * 动态创建VB Class\n   * @param  Array properties 基本属性\n   * @param  Array accessors  访问器属性(get, set)\n   * @return VB Class         ${className}Factory(data, proxy)\n   */\n  function getVBClass(properties, accessors) {\n    let buffer = [], className, factoryName,\n      key = '[' + properties.join(',') + ']&&[' + accessors.join(',') + ']';\n    className = VBClassPool[key];\n    if (className) {\n      return parseVBClassFactoryName(className);\n    } else {\n      className = genClassName();\n      factoryName = parseVBClassFactoryName(className);\n      window.parseVB(genVBClassScript(className, properties, accessors));\n      window.parseVB([\n        'Function ' + factoryName + '(desc)', //创建实例并传入两个关键的参数\n        '\\tDim o',\n        '\\tSet o = (New ' + className + ')(desc)',\n        '\\tSet ' + factoryName + ' = o',\n        'End Function'\n      ].join('\\r\\n'));\n      VBClassPool[key] = className;\n      return factoryName;\n    }\n  }\n\n  class ObjectDescriptor {\n    constructor(object) {\n      this.object = object;\n\n    }\n    defineProperty(attr, desc) {\n      this.defines[attr] = desc;\n    }\n    get(instance, prop) {\n      console.log('--->get property ' + prop)\n    }\n    set(instance, prop, value) {\n      this.object[prop] = value;\n      console.log('--->set property ' + prop + '=' + value + ' ' + this.object.a)\n    }\n  }\n\n  let VBProxyLoop = new Map();\n\n  function genVBProxy(object) {\n    let proxy = VBProxyLoop.get(object);\n    if (proxy == null) {\n      let desc = new ObjectDescriptor(object),\n        accessors = _.keys(object),\n        props = [],\n        factoryName = getVBClass(props, accessors);\n      proxy = window[factoryName](desc);\n    }\n    return proxy;\n  }\n\n  window.genVBProxy = genVBProxy;\n  window.VBClassPool = VBClassPool;\n  window.VBProxyLoop = VBProxyLoop;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/shim/VBProxy.js\n **/","const _ = require('lodash'),\r\n  ARRAY_METHODS = ['push', 'pop', 'shift', 'unshift', 'sort', 'reverse', 'splice'],\r\n  prefixes = 'webkit moz ms o'.split(' '),\r\n  getFrame = function getFrame(prop, defaultVal) {\r\n    let ret = window[prop];\r\n    if (!ret) {\r\n      prop = _.capitalize(prop);\r\n      prop = _.find(prefixes, prefix => {\r\n        return window[prefix + prop];\r\n      })\r\n      ret = prop ? window[prop] : null;\r\n    }\r\n    return ret || defaultVal;\r\n  },\r\n  requestFrame = getFrame('requestAnimationFrame', function requestAnimationFrame(callback) {\r\n    let currTime = new Date().getTime(),\r\n      timeToCall = Math.max(0, 16 - (currTime - lastTime)),\r\n      reqId = setTimeout(function() {\r\n        callback(currTime + timeToCall);\r\n      }, timeToCall);\r\n    lastTime = currTime + timeToCall;\r\n    return reqId;\r\n  }).bind(window);\r\n\r\nlet _observers = new Map(),\r\n  lastTime = 0,\r\n  cfg = {\r\n    useES7Observe: true\r\n  };\r\n\r\nfunction bindObserver(observer) {\r\n  if (observer._binded !== true) {\r\n    _observers.set(observer.target, observer);\r\n    observer._binded = true;\r\n  }\r\n}\r\n\r\nfunction unbindObserver(observer) {\r\n  if (observer._binded === true) {\r\n    if (_observers.get(observer.target) === observer) {\r\n      _observers.delete(observer.target);\r\n    }\r\n    observer._binded = false;\r\n  }\r\n}\r\n\r\nfunction getBindObserver(target) {\r\n  return _observers.get(target);\r\n}\r\n\r\nclass State {\r\n  constructor(target, attr, onChange) {\r\n    this.target = target;\r\n    this.attr = attr;\r\n    this.onChange = onChange;\r\n    this.define = Object.getOwnPropertyDescriptor(target, attr) || {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: target[attr]\r\n    };\r\n  }\r\n\r\n\r\n  getValue() {\r\n    if (this.define.get) {\r\n      return this.define.get.call(this.target);\r\n    } else {\r\n      return this.define.value;\r\n    }\r\n  }\r\n\r\n  setValue(value) {\r\n    let oldValue = this.getValue();\r\n    if (value !== oldValue) {\r\n      if (this.define.set) {\r\n        this.define.set.call(this.target, value);\r\n      } else {\r\n        this.define.value = value;\r\n      }\r\n      this.onChange(this.attr, oldValue);\r\n    }\r\n  }\r\n\r\n  bind() {\r\n    if (!this._binded) {\r\n      Object.defineProperty(this.target, this.attr, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: this.getValue.bind(this),\r\n        set: this.setValue.bind(this)\r\n      });\r\n      this._binded = true;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  unbind() {\r\n    if (this._binded) {\r\n      Object.defineProperty(this.target, this.attr, this.define);\r\n      this._binded = false;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  isBinded() {\r\n    return !!this._binded;\r\n  }\r\n}\r\n\r\nclass Observer {\r\n  constructor(target) {\r\n    if (!_.isArray(target) && !_.isObject(target)) {\r\n      throw TypeError('can not observe object[' + (typeof target) + ']');\r\n    }\r\n    this.target = target;\r\n    this.watchers = {};\r\n    this.listens = {};\r\n    this._onObserveChanged = this._onObserveChanged.bind(this);\r\n    this._notify = this._notify.bind(this);\r\n    this.changeRecords = {};\r\n    bindObserver(this);\r\n  }\r\n\r\n  _notify() {\r\n    _.map(this.changeRecords, (oldVal, attr) => {\r\n      let handlers = this.listens[attr];\r\n      _.each(handlers, h => {\r\n        h(attr, this.target[attr], oldVal, this.target);\r\n      })\r\n    });\r\n    this.changeRecords = {};\r\n  }\r\n\r\n  _addChangeRecord(attr, oldVal) {\r\n    if (!(attr in this.changeRecords)) {\r\n      this.changeRecords[attr] = oldVal;\r\n      if (!this.__request_frame) {\r\n        this.__request_frame = requestFrame(this._notify);\r\n      }\r\n    }\r\n  }\r\n\r\n  _addListen(attr, handlers) {\r\n    let attrHandlers = this.listens[attr];\r\n    if (!attrHandlers) {\r\n      attrHandlers = this.listens[attr] = [];\r\n    }\r\n    _.each(handlers, (h) => {\r\n      if (!_.include(attrHandlers, h)) {\r\n        attrHandlers.push(h);\r\n      }\r\n    });\r\n    if (attrHandlers.length) {\r\n      this._watch(attr);\r\n    }\r\n  }\r\n\r\n  _removeListen(attr, handlers) {\r\n    let attrHandlers = this.listens[attr];\r\n    if (attrHandlers) {\r\n      if (handlers.length) {\r\n        _.remove(attrHandlers, (h) => {\r\n          return _.include(handlers, h);\r\n        });\r\n      }\r\n      if (!handlers.length || !attrHandlers.length) {\r\n        delete this.listens[attr];\r\n        this._unwatch(attr);\r\n      }\r\n    }\r\n  }\r\n\r\n  _onStateChanged(attr, oldVal) {\r\n    if (attr in this.listens) {\r\n      this._addChangeRecord(attr, oldVal);\r\n    }\r\n  }\r\n\r\n  _onObserveChanged(changes) {\r\n    _.each(changes, change => {\r\n      this._onStateChanged(change.name, change.oldValue);\r\n    });\r\n  }\r\n\r\n  _watch(attr) {\r\n    if (Object.observe && cfg.useES7Observe) {\r\n      if (!this._es7observe) {\r\n        Object.observe(this.target, this._onObserveChanged);\r\n        this._es7observe = true;\r\n      }\r\n    } else if (!this.watchers[attr]) {\r\n      this.watchers[attr] = new State(this.target, attr, this._onStateChanged.bind(this)).bind();\r\n    }\r\n  }\r\n\r\n  _unwatch(attr) {\r\n    if (Object.observe && cfg.useES7Observe) {\r\n      if (this._es7observe && this.hasListen()) {\r\n        Object.unobserve(this.target, this._onObserveChanged);\r\n        _es7observe = false;\r\n      }\r\n    } else if (this.watchers[attr]) {\r\n      this.watchers[attr].unbind();\r\n      delete this.watchers[attr];\r\n    }\r\n  }\r\n\r\n  _parseBindArg(attrs, handlers) {\r\n    if (arguments.length == 1) {\r\n      handlers = attrs;\r\n      attrs = _.keys(this.target);\r\n    } else if (!_.isArray(attrs)) {\r\n      attrs = [attrs + ''];\r\n    } else {\r\n      attrs = _.map(attrs, attr => {\r\n        return attr + '';\r\n      });\r\n    }\r\n    if (!_.isArray(handlers)) {\r\n      handlers = [handlers];\r\n    }\r\n    handlers = _.filter(handlers, (h) => {\r\n      return _.isFunction(h);\r\n    });\r\n    return {\r\n      attrs: attrs,\r\n      handlers: handlers\r\n    };\r\n  }\r\n\r\n  hasListen() {\r\n    return _.findKey(this.listens);\r\n  }\r\n\r\n  on() {\r\n    let arg = this._parseBindArg.apply(this, arguments);\r\n    if (!arg.attrs.length || !arg.handlers.length) {\r\n      return;\r\n    }\r\n    _.each(arg.attrs, attr => {\r\n      this._addListen(attr, arg.handlers);\r\n    });\r\n\r\n  }\r\n\r\n  un() {\r\n    let arg = this._parseBindArg.apply(this, arguments);\r\n    if (!arg.attrs.length) {\r\n      return;\r\n    }\r\n    _.each(arg.attrs, attr => {\r\n      this._removeListen(attr, arg.handlers);\r\n    });\r\n    return this;\r\n  }\r\n\r\n\r\n  destory() {\r\n    if (Object.observe && cfg.useES7Observe) {\r\n      Object.unobserve(this.target, this._onObserveChanged);\r\n      this.listens = {};\r\n    } else {\r\n      _.each(this.watchers, (state) => {\r\n        state.unbind();\r\n      });\r\n      this.watchers = {};\r\n    }\r\n    unbindObserver(this);\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  on(obj) {\r\n    let observer = getBindObserver(obj);\r\n    if (!observer) {\r\n      observer = new Observer(obj);\r\n    }\r\n    observer.on.apply(observer, _.slice(arguments, 1));\r\n    if (!observer.hasListen()) {\r\n      observer.destory();\r\n    }\r\n  },\r\n  un(obj) {\r\n    let observer = getBindObserver(obj);\r\n    if (observer) {\r\n      observer.un.apply(observer, _.slice(arguments, 1));\r\n      if (!observer.hasListen()) {\r\n        observer.destory();\r\n      }\r\n    }\r\n  },\r\n  getObserver(obj) {\r\n    return getBindObserver(obj);\r\n  },\r\n  cfg: cfg\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/tao.zeng/git/observer.js/src/observer.js\n **/"],"sourceRoot":""}