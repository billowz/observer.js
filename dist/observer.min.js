!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("_")):"function"==typeof define&&define.amd?define(["_"],n):"object"==typeof exports?exports.observer=n(require("_")):t.observer=n(t._)}(this,function(t){return function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";function e(t){t._binded!==!0&&(f.set(t.target,t),t._binded=!0)}function i(t){t._binded===!0&&(f["delete"](t.target,t),t._binded=!1)}var o=r(1)["default"],s=r(2)["default"],u=r(56)["default"],c=r(58),f=new s,a=function(){function t(n,r){if(o(this,t),!c.isArray(n)||!c.isObject(n))throw TypeError("can not observe object["+typeof n+"]");this.target=n,this.listens=[],this.attrListens={},this.watchers={},this.history=c.isNumber(r)?r:0,e(this)}return t.attrArg=function(t){return c.isUndefined(t)||c.isNull(t)?t=c.keys(this.target):c.isArray(t)||(t=[t]),t},t.handlerArg=function(t){return c.isArray(t)||(t=[t]),t=c.filter(hander,function(t){return c.isFunction(t)})},t.prototype._onChanged=function(t,n,r){var e=this;c.each(n.handlers,function(r){r(t,n.value,oldValue,e.target,n.history)})},t.prototype._watch=function(n,r){var e=this;if(r=t.handlerArg(r),0!=r.length){var i=this.watchers[n];if(i)return void c.each(r,function(t){c.include(i.handlers,t)||i.handlers.push(t)});i=this.watchers[n]={value:this.target[n],history:[],handlers:r},i.value=this.target[n],u(this.target,n,{get:function(){return i.value},set:function(t){var r=i.value;t!==r&&(i.value=t,e.history>0&&(i.history.splice(0,0,r),i.history.length>e.history&&i.history.splice(e.history,i.history.length-1-e.history)),e._onChanged(n,i,r))}})}},t.prototype._unwatch=function(n,r){var e=this.watchers[n];e&&(r=t.handlerArg(r),r.length>0&&(c.remove(e.handlers,function(t){return c.include(r,t)}),0==e.handlers.length&&u(this.target,n,{value:e.value})))},t.prototype.getHistory=function(t){var n=this.watchers[t];return n?n.history:[]},t.prototype.on=function(n,r){c.isFunction(n)&&(r=n,n=void 0),n=t.attrArg(n),n.length=0},t.prototype.un=function(t,n){},t.prototype.destory=function(){var t=this;c.map(this.watchers,function(n,r){t._unwatch(r)}),this.watchers={},i(this)},t}();t.exports=a},function(t,n){"use strict";n["default"]=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},function(t,n,r){"use strict";t.exports={"default":r(3),__esModule:!0}},function(t,n,r){"use strict";r(4),r(5),r(27),r(34),r(54),t.exports=r(13).Map},function(t,n){"use strict"},function(t,n,r){"use strict";var e=r(6)(!0);r(9)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(7),i=r(8);t.exports=function(t){return function(n,r){var o,s,u=String(i(n)),c=e(r),f=u.length;return 0>c||c>=f?t?"":void 0:(o=u.charCodeAt(c),55296>o||o>56319||c+1===f||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):o:t?u.slice(c,c+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,n){"use strict";var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){"use strict";var e=r(10),i=r(11),o=r(14),s=r(15),u=r(20),c=r(21)("iterator"),f=r(24),a=!([].keys&&"next"in[].keys()),p="@@iterator",l="keys",h="values",v=function(){return this};t.exports=function(t,n,d,y,_,g,x){r(25)(d,n,y);var w,b,m=function(t){switch(t){case l:return function(){return new d(this,t)};case h:return function(){return new d(this,t)}}return function(){return new d(this,t)}},S=n+" Iterator",k=t.prototype,A=k[c]||k[p]||_&&k[_],O=A||m(_);if(A){var j=r(16).getProto(O.call(new t));r(26)(j,S,!0),!e&&u(k,p)&&s(j,c,v)}if((!e||x)&&s(k,c,O),f[n]=O,f[S]=v,_)if(w={keys:g?O:m(l),values:_==h?O:m(h),entries:_!=h?O:m("entries")},x)for(b in w)b in k||o(k,b,w[b]);else i(i.P+i.F*a,n,w)}},function(t,n){"use strict";t.exports=!0},function(t,n,r){"use strict";var e=r(12),i=r(13),o="prototype",s=function(t,n){return function(){return t.apply(n,arguments)}},u=function c(t,n,r){var u,f,a,p,l=t&c.G,h=t&c.P,v=l?e:t&c.S?e[n]:(e[n]||{})[o],d=l?i:i[n]||(i[n]={});l&&(r=n);for(u in r)f=!(t&c.F)&&v&&u in v,f&&u in d||(a=f?v[u]:r[u],l&&"function"!=typeof v[u]?p=r[u]:t&c.B&&f?p=s(a,e):t&c.W&&v[u]==a?!function(t){p=function(n){return this instanceof t?new t(n):t(n)},p[o]=t[o]}(a):p=h&&"function"==typeof a?s(Function.call,a):a,d[u]=p,h&&((d[o]||(d[o]={}))[u]=a))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},function(t,n){"use strict";var r="undefined",e=t.exports=typeof window!=r&&window.Math==Math?window:typeof self!=r&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){"use strict";var r=t.exports={};"number"==typeof __e&&(__e=r)},function(t,n,r){"use strict";t.exports=r(15)},function(t,n,r){"use strict";var e=r(16),i=r(17);t.exports=r(18)?function(t,n,r){return e.setDesc(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){"use strict";var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(t,n){"use strict";t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){"use strict";t.exports=!r(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){"use strict";t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n){"use strict";var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){"use strict";var e=r(22)("wks"),i=r(12).Symbol;t.exports=function(t){return e[t]||(e[t]=i&&i[t]||(i||r(23))("Symbol."+t))}},function(t,n,r){"use strict";var e=r(12),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){"use strict";var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){"use strict";t.exports={}},function(t,n,r){"use strict";var e=r(16),i={};r(15)(i,r(21)("iterator"),function(){return this}),t.exports=function(t,n,o){t.prototype=e.create(i,{next:r(17)(1,o)}),r(26)(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(20),i=r(15),o=r(21)("toStringTag");t.exports=function(t,n,r){t&&!e(t=r?t:t.prototype,o)&&i(t,o,n)}},function(t,n,r){"use strict";r(28);var e=r(24);e.NodeList=e.HTMLCollection=e.Array},function(t,n,r){"use strict";var e=r(29),i=r(30),o=r(24),s=r(31);r(9)(Array,"Array",function(t,n){this._t=s(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){"use strict";t.exports=function(){}},function(t,n){"use strict";t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(32),i=r(8);t.exports=function(t){return e(i(t))}},function(t,n,r){"use strict";var e=r(33);t.exports=0 in Object("z")?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){"use strict";var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){"use strict";var e=r(35);r(53)("Map",function(t){return function(){return t(this,arguments[0])}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){"use strict";var e=r(36)["default"],i=r(16),o=r(15),s=r(41),u=r(43),c=r(44),f=r(8),a=r(45),p=r(30),l=r(23)("id"),h=r(20),v=r(39),d=e||v,y=r(18),_=y?"_s":"size",g=0,x=function(t,n){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!h(t,l)){if(!d(t))return"F";if(!n)return"E";o(t,l,++g)}return"O"+t[l]},w=function(t,n){var r,e=x(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,e,o){var u=t(function(t,r){c(t,u,n),t._i=i.create(null),t._f=void 0,t._l=void 0,t[_]=0,void 0!=r&&a(r,e,t[o],t)});return r(52)(u.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[_]=0},"delete":function(t){var n=this,r=w(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[_]--}return!!r},forEach:function(t){for(var n,r=s(t,arguments[1],3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!w(this,t)}}),y&&i.setDesc(u.prototype,"size",{get:function(){return f(this[_])}}),u},def:function(t,n,r){var e,i,o=w(t,n);return o?o.v=r:(t._l=o={i:i=x(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[_]++,"F"!==i&&(t._i[i]=o)),t},getEntry:w,setStrong:function(t,n,e){r(9)(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?p(0,r.k):"values"==n?p(0,r.v):p(0,[r.k,r.v]):(t._t=void 0,p(1))},e?"entries":"values",!e,!0),u(t),u(r(13)[n])}}},function(t,n,r){"use strict";t.exports={"default":r(37),__esModule:!0}},function(t,n,r){"use strict";r(38),t.exports=r(13).Object.isExtensible},function(t,n,r){"use strict";var e=r(39);r(40)("isExtensible",function(t){return function(n){return e(n)?t?t(n):!0:!1}})},function(t,n){"use strict";t.exports=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)}},function(t,n,r){"use strict";t.exports=function(t,n){var e=r(11),i=(r(13).Object||{})[t]||Object[t],o={};o[t]=n(i),e(e.S+e.F*r(19)(function(){i(1)}),"Object",o)}},function(t,n,r){"use strict";var e=r(42);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){"use strict";var e=r(16),i=r(21)("species");t.exports=function(t){!r(18)||i in t||e.setDesc(t,i,{configurable:!0,get:function(){return this}})}},function(t,n){"use strict";t.exports=function(t,n,r){if(!(t instanceof n))throw TypeError(r+": use the 'new' operator!");return t}},function(t,n,r){"use strict";var e=r(41),i=r(46),o=r(48),s=r(47),u=r(49),c=r(50);t.exports=function(t,n,r,f){var a,p,l,h=c(t),v=e(r,f,n?2:1),d=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(o(h))for(a=u(t.length);a>d;d++)n?v(s(p=t[d])[0],p[1]):v(t[d]);else for(l=h.call(t);!(p=l.next()).done;)i(l,v,p.value,n)}},function(t,n,r){"use strict";var e=r(47);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(o){var s=t["return"];throw void 0!==s&&e(s.call(t)),o}}},function(t,n,r){"use strict";var e=r(39);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n,r){"use strict";var e=r(24),i=r(21)("iterator");t.exports=function(t){return(e.Array||Array.prototype[i])===t}},function(t,n,r){"use strict";var e=r(7),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(51),i=r(21)("iterator"),o=r(24);t.exports=r(13).getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||o[e(t)]:void 0}},function(t,n,r){"use strict";var e=r(33),i=r(21)("toStringTag"),o="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=(n=Object(t))[i])?r:o?e(n):"Object"==(s=e(n))&&"function"==typeof n.callee?"Arguments":s}},function(t,n,r){"use strict";var e=r(14);t.exports=function(t,n){for(var r in n)e(t,r,n[r]);return t}},function(t,n,r){"use strict";var e=r(16),i=r(11),o=r(15),s=r(45),u=r(44);t.exports=function(t,n,c,f,a,p){var l=r(12)[t],h=l,v=a?"set":"add",d=h&&h.prototype,y={};return r(18)&&"function"==typeof h&&(p||d.forEach&&!r(19)(function(){(new h).entries().next()}))?(h=n(function(n,r){u(n,h,t),n._c=new l,void 0!=r&&s(r,a,n[v],n)}),e.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(t){var n="add"==t||"set"==t;t in d&&(!p||"clear"!=t)&&o(h.prototype,t,function(r,e){var i=this._c[t](0===r?0:r,e);return n?this:i})}),"size"in d&&e.setDesc(h.prototype,"size",{get:function(){return this._c.size}})):(h=f.getConstructor(n,t,a,v),r(52)(h.prototype,c)),r(26)(h,t),y[t]=h,i(i.G+i.W+i.F,y),p||f.setStrong(h,t,a),h}},function(t,n,r){"use strict";var e=r(11);e(e.P,"Map",{toJSON:r(55)("Map")})},function(t,n,r){"use strict";var e=r(45),i=r(51);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");var n=[];return e(this,!1,n.push,n),n}}},function(t,n,r){"use strict";t.exports={"default":r(57),__esModule:!0}},function(t,n,r){"use strict";var e=r(16);t.exports=function(t,n,r){return e.setDesc(t,n,r)}},function(n,r){n.exports=t}])});